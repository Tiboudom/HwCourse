{"ast":null,"code":"var _jsxFileName = \"/home/olivier/CSULB/IS/HwCourse/src/views/Home.js\";\nimport React, { useEffect, useState } from \"react\";\nimport firebase from \"../firebase\";\nimport Table from \"react-bootstrap/Table\";\nimport Button from \"react-bootstrap/Button\";\n\nfunction Home(props) {\n  const [users, setUsers] = useState([]);\n\n  const fetchData = async () => {\n    const db = firebase.firestore();\n    const data = await db.collection(\"users\").get();\n    setUsers(data.docs.map(doc => ({ ...doc.data(),\n      id: doc.id\n    })));\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const onDelete = values => {\n    if (window.confirm(\"Are you sure ?\")) {\n      const db = firebase.firestore();\n      db.collection(\"users\").doc(values.id).delete();\n      fetchData();\n    }\n  };\n\n  const {\n    history\n  } = props;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    className: \"contact-table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, \"Phone\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, \"Controls\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, users.map((user, index) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: user.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 8\n    }\n  }, index), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 8\n    }\n  }, user.name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 8\n    }\n  }, user.email), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 8\n    }\n  }, user.phone), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      width: \"min-content\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-primary\",\n    className: \"mr-2\",\n    onClick: () => history.push(\"/details\", {\n      user\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, \"Details\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-warning\",\n    className: \"mr-2\",\n    onClick: () => history.push(\"/create\", {\n      user\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, \"Edit\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-danger\",\n    className: \"\",\n    onClick: () => onDelete(user),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, \"Delete\")))))), /*#__PURE__*/React.createElement(Button, {\n    variant: \"success\",\n    href: \"/create\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 4\n    }\n  }, \"Create\"));\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/olivier/CSULB/IS/HwCourse/src/views/Home.js"],"names":["React","useEffect","useState","firebase","Table","Button","Home","props","users","setUsers","fetchData","db","firestore","data","collection","get","docs","map","doc","id","onDelete","values","window","confirm","delete","history","user","index","name","email","phone","width","push"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,QAAP,MAAqB,aAArB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;;AAEA,SAASC,IAAT,CAAcC,KAAd,EAAqB;AACpB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC;;AACA,QAAMQ,SAAS,GAAG,YAAY;AAC7B,UAAMC,EAAE,GAAGR,QAAQ,CAACS,SAAT,EAAX;AACA,UAAMC,IAAI,GAAG,MAAMF,EAAE,CAACG,UAAH,CAAc,OAAd,EAAuBC,GAAvB,EAAnB;AACAN,IAAAA,QAAQ,CAACI,IAAI,CAACG,IAAL,CAAUC,GAAV,CAAeC,GAAD,KAAU,EAAE,GAAGA,GAAG,CAACL,IAAJ,EAAL;AAAiBM,MAAAA,EAAE,EAAED,GAAG,CAACC;AAAzB,KAAV,CAAd,CAAD,CAAR;AACA,GAJD;;AAMAlB,EAAAA,SAAS,CAAC,MAAM;AACfS,IAAAA,SAAS;AACT,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMU,QAAQ,GAAIC,MAAD,IAAY;AAC5B,QAAIC,MAAM,CAACC,OAAP,CAAe,gBAAf,CAAJ,EAAsC;AACrC,YAAMZ,EAAE,GAAGR,QAAQ,CAACS,SAAT,EAAX;AACAD,MAAAA,EAAE,CAACG,UAAH,CAAc,OAAd,EAAuBI,GAAvB,CAA2BG,MAAM,CAACF,EAAlC,EAAsCK,MAAtC;AACAd,MAAAA,SAAS;AACT;AACD,GAND;;AAQA,QAAM;AAAEe,IAAAA;AAAF,MAAclB,KAApB;AAEA,sBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,KAAD;AAAO,IAAA,OAAO,MAAd;AAAe,IAAA,QAAQ,MAAvB;AAAwB,IAAA,KAAK,MAA7B;AAA8B,IAAA,SAAS,EAAC,eAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFD,eAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAHD,eAIC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJD,eAKC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALD,CADD,CADD,eAUC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEC,KAAK,CAACS,GAAN,CAAU,CAACS,IAAD,EAAOC,KAAP,kBACV;AAAI,IAAA,GAAG,EAAED,IAAI,CAACP,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKQ,KAAL,CADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKD,IAAI,CAACE,IAAV,CAFD,eAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKF,IAAI,CAACG,KAAV,CAHD,eAIC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKH,IAAI,CAACI,KAAV,CAJD,eAKC;AAAI,IAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC,oBAAC,MAAD;AACC,IAAA,OAAO,EAAC,iBADT;AAEC,IAAA,SAAS,EAAC,MAFX;AAGC,IAAA,OAAO,EAAE,MAAMN,OAAO,CAACO,IAAR,CAAa,UAAb,EAAyB;AAAEN,MAAAA;AAAF,KAAzB,CAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADD,eAQC,oBAAC,MAAD;AACC,IAAA,OAAO,EAAC,iBADT;AAEC,IAAA,SAAS,EAAC,MAFX;AAGC,IAAA,OAAO,EAAE,MAAMD,OAAO,CAACO,IAAR,CAAa,SAAb,EAAwB;AAAEN,MAAAA;AAAF,KAAxB,CAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YARD,eAeC,oBAAC,MAAD;AACC,IAAA,OAAO,EAAC,gBADT;AAEC,IAAA,SAAS,EAAC,EAFX;AAGC,IAAA,OAAO,EAAE,MAAMN,QAAQ,CAACM,IAAD,CAHxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAfD,CALD,CADA,CADF,CAVD,CADD,eA6CC,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,SAAhB;AAA0B,IAAA,IAAI,EAAC,SAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA7CD,CADD;AAmDA;;AAED,eAAepB,IAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport firebase from \"../firebase\";\nimport Table from \"react-bootstrap/Table\";\nimport Button from \"react-bootstrap/Button\";\n\nfunction Home(props) {\n\tconst [users, setUsers] = useState([]);\n\tconst fetchData = async () => {\n\t\tconst db = firebase.firestore();\n\t\tconst data = await db.collection(\"users\").get();\n\t\tsetUsers(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\n\t};\n\n\tuseEffect(() => {\n\t\tfetchData();\n\t}, []);\n\n\tconst onDelete = (values) => {\n\t\tif (window.confirm(\"Are you sure ?\")) {\n\t\t\tconst db = firebase.firestore();\n\t\t\tdb.collection(\"users\").doc(values.id).delete();\n\t\t\tfetchData();\n\t\t}\n\t};\n\n\tconst { history } = props;\n\n\treturn (\n\t\t<div>\n\t\t\t<Table striped bordered hover className=\"contact-table\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>#</th>\n\t\t\t\t\t\t<th>Name</th>\n\t\t\t\t\t\t<th>Email</th>\n\t\t\t\t\t\t<th>Phone</th>\n\t\t\t\t\t\t<th>Controls</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{users.map((user, index) => (\n\t\t\t\t\t\t<tr key={user.id}>\n\t\t\t\t\t\t\t<td>{index}</td>\n\t\t\t\t\t\t\t<td>{user.name}</td>\n\t\t\t\t\t\t\t<td>{user.email}</td>\n\t\t\t\t\t\t\t<td>{user.phone}</td>\n\t\t\t\t\t\t\t<td style={{ width: \"min-content\" }}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"outline-primary\"\n\t\t\t\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\t\t\t\tonClick={() => history.push(\"/details\", { user })}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tDetails\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"outline-warning\"\n\t\t\t\t\t\t\t\t\tclassName=\"mr-2\"\n\t\t\t\t\t\t\t\t\tonClick={() => history.push(\"/create\", { user })}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"outline-danger\"\n\t\t\t\t\t\t\t\t\tclassName=\"\"\n\t\t\t\t\t\t\t\t\tonClick={() => onDelete(user)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t))}\n\t\t\t\t</tbody>\n\t\t\t</Table>\n\t\t\t<Button variant=\"success\" href=\"/create\">\n\t\t\t\tCreate\n\t\t\t</Button>\n\t\t</div>\n\t);\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}